\chapter{Umsetzung}
Dieses Kapitel beschreibt die Umsetzung des Produktes.
Die Nachfolgenden Abschnitte werden Schrittweise detaillierter und beschreiben den Aufbau sowie die Designentscheidungen des Softwarecodes.

\section{Einleitung}
\section{Anforderungen}
\section{Technologien}
\subsection{Entwicklungsumgebung}
\subsection{Programmiersprache}
Das Projekt wurde in der Programmiersprache Swift 3 umgesetzt und ist mit iOS 10 und höher kompatibel. Es wurde darauf geachtet, dass alle Abhängigkeiten ebenfalls in Swift umgesetzt sind. Dies erleichtert die Weiterentwicklung da kein, für ungeübte Entwickler, meist schwer lesbarer Objective C Code zum Einsatz kommt.
\subsection{Abhängigkeiten}

\section{Architektur}

\subsection{Grobarchitektur}

Um weite Teile des Sourcecodes erneut nutzen zu können, wurde das Projekt in zwei Teile aufgeteilt. Der Core beinhaltet den gesamten Code, welcher Systemunabhängig ist.

Der restliche Code befindet sich im Ordner Spektrometer. Dieser ist iOS spezifisch und kann nicht einfach auf andere Plattformen portiert werden.

\subsection{Core}
\subsection{Service}
\subsection{iOS App}

\section{Core}
\subsection{Connection}
\subsection{Input/Output}

\subsubsection{File Writer}
\subsubsection{File Reader}
\subsubsection{Spectrometer Parser}

\subsection{Calculations}
\subsection{Error Handling}

\section{Service}

\subsection{Instrument Store}
\subsection{Command Manager}
\subsection{File Write Manager}

\section{iOS App}
\subsection{App Delegate}
\subsection{Core Data}
\subsection{Views}

Alle ViewController sind in der Datei Main.storyboard enthalten. Dies war eine bewusste Entscheidung, um Entwicklern einen guten Überblick über den gesamten UI Ablauf zu ermöglichen. Einzig das Design für eine Zelle der Messübersichtstabelle wurde in eine eigne XIB-Datei ausgelagert.

Die Anordnung der Controls wurde im Storyboard gelöst. Kleinere Merkmale wurden jeweils im Code angepasst, indem von bestehenden Controls abgeleitet wurde.

\subsection{Controllers}

\subsubsection{Settings}

Einstellungen, welche pro Applikation verfügbar sein müssen, werden in den sogenannten UserDefaults gespeichert. Dieser Speicher, kann sämtliche serialisierbaren Objekte speichern.

\subsection{Components}
\subsection{View Store}
\subsection{Service}
\subsubsection{Validation}

Für die Validierung wurde von jedem benutzen Control eine Ableitung erstellt und und das BaseValidationControl Protokoll implementiert. Dieses Protokoll enthält ein Property isValid welches den Gültikeitszustand des Objektes enthält.

In jedem ViewController, muss nun nur noch der ValidationManager aufgerufen werden und die Hauptview übergeben werden. Dieser ValidationManager prüft nun alle Subviews, welchedas Protokoll implementieren.

Um die Validation für einen neuen ViewController hinzuzufügen, kann folgendermassen vorgangen werden:
1. Erstellen Sie einen neuen ViewController
2. Fügen Sie ein Control hinzu und leiten sie von einem bestehenden ValidationControl ab. Oder erstellen Sie eine neue Ableitung eines Controls und implementieren Sie das BaseValidationControl Protokoll.
3. Rufen Sie die validateSubViews Methode des ValidationMangers auf.


\subsubsection{File Browser}